<odoo>
    <data>

        <record model="ir.ui.view" id="view_lineas_ordenes_pedido">
            <field name="name">lineas.ordenes.pedido</field>
            <field name="model">sale.order.line</field>
            <field name="arch" type="xml">
                <tree string="Ordenes directas" create="0" delete="0" edit="1" multi_edit="1">
                    <field name="order_id" readonly="1" options='{"bg_color": "#77DBEB: fecha_programada &lt;= context_today().strftime(\"%Y-%m-%d\");"}' />
                    <field name="order_partner_id" readonly="1"/>
                    <field name="product_id" readonly="1"/>
                    <field name="default_code_product" readonly="1"/>
                    <field name="codigo_cliente" readonly="1"/>
                    <field name="fecha_programada" readonly="0"/>
                    <field name="codigo_alterno" readonly="0"/>
                    <field name="cantidad_reservada" readonly="1"/>
                    <field name="name" readonly="1"/>
                    <field name="product_uom_qty" readonly="0"/>
                    <field name="qty_delivered" readonly="1"/>
                    <field name="qty_invoiced" readonly="1"/>
                    <field name="price_unit" readonly="1"/>
                    <field name="tax_id" readonly="1"/>
                    <field name="discount" readonly="1"/>
                    <field name="price_subtotal" readonly="1"/>
                    <field name="confirma_venta_directa" readonly="0" invisible="1"/>
                    <field name="linea_confirmada" readonly="1"/>
                </tree>
            </field>
        </record>

        <record model="ir.actions.act_window" id="lineas_pedido">
            <field name="name">Lineas de ordenes de pedido</field>
            <field name="res_model">sale.order.line</field>
            <field name="view_mode">tree,form</field>
            <!--<field name="context">{'search_default_ordenes_directas': 1}</field>-->
            <field name="view_id" ref="view_lineas_ordenes_pedido"/>
        </record>

        <menuitem id="menu_lineas_ordenes_pedido"
                  name="Lineas de ordenes de pedido"
                  parent="sale.sale_order_menu"
                  sequence="7"
                  action='lineas_pedido'/>

        <!--
        <record model="ir.ui.view" id="view_sales_order_line_filter_update">
            <field name="name">sale.order.line.select.update</field>
            <field name="model">sale.order.line</field>
            <field name="inherit_id" ref="sale.view_sales_order_line_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//search" position="inside">
                    <separator/>
                    <filter string="Ordenenes directas"
                            name="ordenes_directas"
                            domain="[('order_id', '=', False), ('pedido_abierto_rel', '!=', False), ('linea_confirmada', '=', False)]"
                            />
                    <filter string="Fecha programada"
                            name="fecha_programada"
                            />
                    <separator/>

                </xpath>
                <xpath expr="//search/group[1]" position="inside">
                    <filter string="Cliente" name="cliente_group" domain="[]" context="{'group_by':'order_partner_id'}"/>
                    <filter string="Fecha programada" name="fecha_programada_group" domain="[]" context="{'group_by':'fecha_programada'}"/>
                </xpath>
            </field>
        </record>
        -->
        
    </data>
</odoo>