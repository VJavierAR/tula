<odoo>
    <data>

        <record model="ir.ui.view" id="sale_order_form_view_update">
            <field name="name">sale.order.form.view.update</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">

                <xpath expr="//field[@name='validity_date']" position="before">
                    <field name="urgencia" />
                    <field name="bloqueo_limite_credito" invisible="0" />
                    <field name="mensaje_limite_de_credito" invisible="0" />
                </xpath>

                <xpath expr="//button[@name='action_confirm']" position="attributes">
                    <attribute name="invisible">['|', ('state', 'not in', ['draft']), ('bloqueo_limite_credito', '=', True)]</attribute>
                </xpath>

                <xpath expr="//form[1]/header[1]/button[@name='action_confirm'][2]" position="attributes">
                    <attribute name="invisible">['|', ('state', 'not in', ['draft']), ('bloqueo_limite_credito', '=', True)]</attribute>
                </xpath>

                <xpath expr="//button[@name='action_confirm']" position="after">
                    <button string="Confirmar excediendo límite de crédito"
                            name="autorizar_sale_limite_de_credito"
                            type="object"
                            class="btn-primary"
                            attrs="{'invisible': ['|', ('state', 'not in', ['draft']), ('bloqueo_limite_credito', '=', False)]}"
                            groups="OLA.group_confirm_sale_excede_limite_credito"
                            />
                </xpath>

            </field>
        </record>
    </data>
</odoo>